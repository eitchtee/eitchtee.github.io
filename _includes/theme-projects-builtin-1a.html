<!-- Like theme-projects-builtin-1, but uses project-card-2.html (i.e. entire card is a link). -->

<div style="padding-top: 20px" class="ui container ">

    {% assign project_pages = site.pages | where: "type", "project" | sort: "date" | reverse %}
    {% assign project_labels = project_pages | map: "labels" | uniq %}
    
    <div>
        {% for label in project_labels %}
          <a class="button ui basic label" id="{{ label }}">{{ label }}</a>
        {% endfor %}
      <a class="button ui basic label active" id="all">All</a>
    </div>
  
  <div class="ui stackable centered four cards" id="filterable">
    {% for page in project_pages %}
      {% unless page.draft %}
        {% include project-card-1a.html page=page %}
      {% endunless %}
    {% endfor %}
  </div>
</div>


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous">
</script>

<script>
    // from https://codepen.io/terf/post/jquery-filter-divs
    var $btns = $('.button').click(function () {
        if (this.id == 'all') {
            $('#filterable > a').fadeIn(450);
        } else {
            var $el = $('.' + this.id).fadeIn(450, function() {
            $('.' + this.id).removeClass('hiding');
            });
            $('#filterable > a').not($el).fadeOut(300, function() {
            $('#filterable > a').not($el).addClass('hiding');
            });
        }
        $btns.removeClass('active');
        $(this).addClass('active');
    })
</script>

<style>
    .hiding {
        display: none!importat;
    }
</style>
